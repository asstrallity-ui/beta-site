<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOADER ASTR</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@200;300;400;500;600;700" rel="stylesheet">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen">
        <div class="loader-container">
            <div class="status-text">
                <span>ЗАГРУЗКА</span>
                <span class="dots"></span>
            </div>
            <div class="progress-track">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast-notification" class="toast-notification hidden"></div>

    <!-- Main App -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar glass">
            <div class="logo-area">
                <img src="https://via.placeholder.com/32" alt="Logo" class="logo-icon-img">
                <h1>LOADER ASTR</h1>
            </div>
            <nav class="nav-menu">
                <button class="nav-item active" data-page="mods">
                    <span class="material-symbols-outlined">extension</span>
                    Каталог модов
                </button>
                <button class="nav-item" data-page="install">
                    <span class="material-symbols-outlined">settings</span>
                    Установка
                </button>
                <button class="nav-item" data-page="settings">
                    <span class="material-symbols-outlined">palette</span>
                    Настройки
                </button>
                <button class="nav-item" data-page="about">
                    <span class="material-symbols-outlined">info</span>
                    О программе
                </button>
            </nav>
            <div class="sidebar-footer">
                <p>© 2025 LOADER ASTR</p>
                <p style="font-size: 10px; margin-top: 4px;">v1.0.0</p>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <div class="top-bar glass">
                <div class="top-bar-title">
                    <h2 id="page-title">Каталог модов</h2>
                </div>
                <div class="top-bar-actions">
                    <!-- Social Links -->
                    <div class="social-links">
                        <a href="https://t.me/your_channel" target="_blank" class="social-btn telegram-btn" title="Telegram канал">
                            <span class="material-symbols-outlined">send</span>
                        </a>
                        <a href="https://t.me/your_chat" target="_blank" class="social-btn telegram-btn" title="Telegram чат">
                            <span class="material-symbols-outlined">chat</span>
                        </a>
                    </div>

                    <div class="divider-vertical"></div>

                    <!-- Update Check Button -->
                    <button id="btn-check-updates" class="social-btn update-btn" title="Проверить обновления">
                        <span class="material-symbols-outlined">system_update_alt</span>
                    </button>

                    <div class="divider-vertical"></div>

                    <!-- Status Indicator -->
                    <div class="status-indicator">
                        <div id="ping-dot" class="status-dot"></div>
                        <span id="ping-text">Проверка...</span>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div id="content-area">
                <p class="loading-text">Загрузка каталога...</p>
            </div>
        </main>
    </div>

    <!-- Repair FAB -->
    <button id="global-repair-btn" class="fab-repair hidden">
        <span class="material-symbols-outlined">build</span>
    </button>

    <!-- Progress Modal -->
    <div id="progress-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 id="modal-title">Установка мода</h3>
            <div id="install-view">
                <div class="modal-progress-container">
                    <div class="modal-progress-bar">
                        <div id="progress-bar" class="modal-progress-fill"></div>
                    </div>
                    <div class="modal-progress-info">
                        <span id="progress-percent">0%</span>
                        <span id="modal-status">Подготовка...</span>
                    </div>
                </div>
            </div>
            <div id="success-view" class="view-hidden">
                <div class="modal-success-icon">
                    <span class="material-symbols-outlined">check_circle</span>
                </div>
                <p class="modal-success-text">Успешно установлено</p>
            </div>
            <div id="error-view" class="view-hidden">
                <div class="modal-error-icon">
                    <span class="material-symbols-outlined">error</span>
                </div>
                <p class="modal-error-text">Что-то пошло не так</p>
                <p id="error-message" class="modal-error-detail"></p>
            </div>
            <button id="modal-close-btn" class="modal-close-x">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>
    </div>

    <!-- Repair Modal -->
    <div id="repair-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Управление модами</h3>
            <p style="color: var(--md-sys-color-outline); font-size: 14px; margin-bottom: 16px;">Выберите мод для удаления или починки:</p>
            <div id="repair-list" class="repair-list"></div>
            <button id="repair-close-btn" class="modal-btn-secondary">Закрыть</button>
        </div>
    </div>

    <!-- Info Modal (Buy/Preorder) -->
    <div id="info-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 id="info-modal-title">Информация</h3>
            <p id="info-modal-desc" style="color: var(--md-sys-color-outline); font-size: 14px; margin: 16px 0;"></p>
            <div style="display: flex; gap: 12px; margin-top: 24px;">
                <button id="info-modal-action" class="modal-btn-primary">Перейти</button>
                <button id="info-close-btn" class="modal-btn-secondary">Закрыть</button>
            </div>
        </div>
    </div>

    <!-- Update Modal -->
    <div id="update-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                <span class="material-symbols-outlined" style="font-size: 32px; color: var(--md-sys-color-primary);">upgrade</span>
                <h3 style="margin: 0;">Доступно обновление</h3>
            </div>
            <div style="margin-bottom: 20px;">
                <p style="font-size: 14px; color: var(--md-sys-color-outline); margin-bottom: 8px;">
                    Новая версия: <span id="update-version" style="color: var(--md-sys-color-primary); font-weight: 600;">v0.0.0</span>
                </p>
                <p style="font-size: 14px; color: var(--md-sys-color-outline); margin-bottom: 12px;">
                    Размер: <span id="update-size" style="color: #fff;">0 MB</span>
                </p>
                <div style="background: rgba(255,255,255,0.03); padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.05);">
                    <p style="font-size: 12px; color: var(--md-sys-color-outline); margin-bottom: 6px; text-transform: uppercase; letter-spacing: 1px; font-weight: 600;">Список изменений</p>
                    <p id="update-changelog" style="font-size: 13px; color: #e0e0e0; line-height: 1.5; white-space: pre-wrap;"></p>
                </div>
            </div>
            <div style="display: flex; gap: 12px;">
                <button id="btn-start-update" class="modal-btn-primary">
                    <span class="material-symbols-outlined" style="font-size: 18px;">download</span>
                    Обновить
                </button>
                <button id="btn-skip-update" class="modal-btn-secondary">Позже</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
