<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASSTRALLITY LOADER</title>
    <link rel="icon" href="icon.ico" type="image/x-icon">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }

        /* –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(111,181,255,0.4); border-radius: 10px; transition: background 0.3s; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(111,181,255,0.7);}
        * { scrollbar-width: thin; scrollbar-color: rgba(111,181,255,0.4) transparent; }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg,#0f1419 0%,#1a2332 50%,#0d1620 100%);
            color: #e3edf7;
            overflow-x: hidden;
            position: relative; min-height: 100vh;
        }
        body::before {
            content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(ellipse at top left,rgba(173,216,230,.12) 0%,transparent 55%),radial-gradient(ellipse at bottom right,rgba(135,206,250,.08) 0%,transparent 55%);
            pointer-events: none; z-index: 0;
        }
        .snowflake {
            position: fixed; top: -10px; color: rgba(255,255,255,.75); font-size: 1em;
            text-shadow: 0 0 5px rgba(255,255,255,.8); animation: fall linear infinite;
            z-index: 1; pointer-events: none;
        }
        @keyframes fall { to { transform: translateY(100vh) rotate(360deg); } }

        .container { position: relative; z-index: 2; max-width: 1400px; margin:0 auto; padding:24px; }
        header {
            text-align: center; padding: 40px 32px;
            background: rgba(20,27,38,.85); backdrop-filter: blur(24px); border-radius: 28px; margin-bottom:24px;
            border: 1px solid rgba(120,180,255,.15);
            box-shadow: 0 2px 8px rgba(0,0,0,.3),0 8px 24px rgba(0,0,0,.2);
        }
        h1 {
            font-size: 2.75em; font-weight: 500;
            background: linear-gradient(135deg,#b8d9ff 0%,#6fb5ff 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px; margin-bottom: 12px;
        }
        .subtitle { font-size: 1em; color: #aec5dc; font-weight: 400; letter-spacing: .25px;}

        .tabs {
            display: flex; justify-content: center; gap:12px; margin-bottom:24px;
            background: rgba(20,27,38,.75); backdrop-filter: blur(24px); padding:8px;
            border-radius: 28px; border: 1px solid rgba(120,180,255,.12); box-shadow: 0 1px 3px rgba(0,0,0,.2);
        }
        .tab {
            padding: 14px 32px; font-size: .95em; font-weight:500; color:#aec5dc; background: transparent;
            border: none; border-radius: 20px; cursor: pointer; transition: all .3s cubic-bezier(.4,0,.2,1);
            letter-spacing: .5px; position: relative;
        }
        .tab:hover { background: rgba(111,181,255,.08); color: #d4e7ff;}
        .tab.active {
            background: rgba(111,181,255,.18); color: #e8f4ff; box-shadow: 0 2px 8px rgba(111,181,255,.25);
        }
        .tab-content { display:none;}
        .tab-content.active { display:block; animation: fadeIn .3s ease;}
        @keyframes fadeIn { from{ opacity:0; transform:translateY(8px);} to{opacity:1;transform:translateY(0);} }
        .mods-grid {
            display: grid; grid-template-columns: repeat(auto-fill,minmax(340px,1fr));
            gap:20px; margin-top:20px;
        }
        .mod-card {
            background: rgba(22,30,42,.9); backdrop-filter: blur(20px);
            border: 1px solid rgba(120,180,255,.15); border-radius: 24px; overflow: hidden;
            transition: all .3s cubic-bezier(.4,0,.2,1);
            box-shadow: 0 2px 6px rgba(0,0,0,.25),0 8px 16px rgba(0,0,0,.15);
        }
        .mod-card:hover {
            transform: translateY(-4px); border-color: rgba(111,181,255,.35);
            box-shadow: 0 4px 12px rgba(0,0,0,.3),0 12px 32px rgba(111,181,255,.25);
        }
        .mod-image {
            width:100%; height:180px; object-fit:cover;
            background:linear-gradient(135deg,rgba(30,40,55,.8) 0%,rgba(20,30,45,.9) 100%);
            display:block;
        }
        .mod-image-placeholder {
            width:100%; height:180px; background:linear-gradient(135deg,rgba(40,55,75,.5) 0%,rgba(30,45,65,.6) 100%);
            display:flex; align-items:center; justify-content:center; font-size:3em; color:rgba(120,180,255,.4);
        }
        .mod-content { padding:20px 24px 24px 24px;}
        .mod-card h3 { font-size:1.35em; font-weight:500; color:#d4e7ff; margin-bottom:8px; letter-spacing:.15px;}
        .mod-card p { color:#aec5dc; font-size:.95em; line-height:1.6; margin-bottom:18px; letter-spacing:.25px;}
        .mod-card button {
            width:100%; padding:14px; font-size:.95em; font-weight:500; color:#e8f4ff;
            background:linear-gradient(135deg,rgba(80,140,200,.6) 0%,rgba(111,181,255,.5) 100%);
            border:none; border-radius:20px; cursor:pointer; transition:all .3s cubic-bezier(.4,0,.2,1);
            letter-spacing:.5px; text-transform:uppercase; box-shadow:0 2px 8px rgba(111,181,255,.2);
        }
        .mod-card button:hover {
            background:linear-gradient(135deg,rgba(111,181,255,.65) 0%,rgba(90,160,225,.55) 100%);
            box-shadow:0 4px 16px rgba(111,181,255,.35); transform:translateY(-1px);
        }
        .mod-card button:active { transform:translateY(0);}
        .section {
            background:rgba(20,27,38,.85); backdrop-filter:blur(24px); border:1px solid rgba(120,180,255,.15);
            border-radius:24px; padding:32px; margin-bottom:20px;
            box-shadow:0 2px 6px rgba(0,0,0,.25),0 8px 16px rgba(0,0,0,.15);
        }
        .section h2 {
            font-size:1.75em; font-weight:500; color:#d4e7ff; margin-bottom:24px; letter-spacing:0px;
            border-bottom:2px solid rgba(111,181,255,.2); padding-bottom:12px;
        }
        .setting-row { display:flex; align-items:center; justify-content:space-between; padding:18px 0; border-bottom:1px solid rgba(120,180,255,.1);}
        .setting-row:last-child { border-bottom:none;}
        .setting-label { font-size:1em; color:#aec5dc; font-weight:400; letter-spacing:.25px;}
        .radio-group {
            display:flex; gap:8px; background:rgba(30,40,55,.4); padding:6px;
            border-radius:20px; border:1px solid rgba(111,181,255,.15);
        }
        .radio-option { position:relative;}
        .radio-option input[type="radio"] { position:absolute; opacity:0; width:0; height:0;}
        .radio-option label {
            display:block; padding:12px 24px; font-size:.9em; font-weight:500; color:#aec5dc; background:transparent;
            border-radius:16px; cursor:pointer; transition:all .3s cubic-bezier(.4,0,.2,1); letter-spacing:.5px; text-align:center; user-select:none;
        }
        .radio-option input[type="radio"]:checked + label {
            background:linear-gradient(135deg,rgba(80,140,200,.5) 0%,rgba(111,181,255,.4) 100%);
            color:#e8f4ff; box-shadow:0 2px 8px rgba(111,181,255,.3),inset 0 1px 0 rgba(255,255,255,.1);
        }
        .radio-option label:hover { background:rgba(111,181,255,.08); color:#d4e7ff;}
        .radio-option input[type="radio"]:checked + label:hover {
            background:linear-gradient(135deg,rgba(90,150,210,.55) 0%,rgba(120,190,255,.45) 100%);
        }
        .btn {
            padding:14px 32px; font-size:.95em; font-weight:500; color:#e8f4ff;
            background:linear-gradient(135deg,rgba(80,140,200,.6) 0%,rgba(111,181,255,.5) 100%);
            border:none; border-radius:20px; cursor:pointer; transition:all .3s cubic-bezier(.4,0,.2,1);
            letter-spacing:.5px; text-transform:uppercase; box-shadow:0 2px 8px rgba(111,181,255,.2);
        }
        .btn:hover {
            background:linear-gradient(135deg,rgba(111,181,255,.65) 0%,rgba(90,160,225,.55) 100%);
            box-shadow:0 4px 16px rgba(111,181,255,.35); transform:translateY(-1px);
        }
        .btn:active { transform:translateY(0);}
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.65); backdrop-filter: blur(12px); z-index: 1000; align-items: center; justify-content: center;
        }
        .modal-content {
            background: rgba(22,30,42,0.95); backdrop-filter: blur(30px); border: 1px solid rgba(120,180,255,0.2);
            border-radius: 28px; padding: 40px; min-width: 480px; text-align: center;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 16px 48px rgba(0, 0, 0, 0.3);
        }
        .progress-bar { width:100%; height:12px; background:rgba(40,55,75,.6); border-radius:100px; overflow: hidden; margin:24px 0;}
        .progress-fill { height:100%; background:linear-gradient(90deg,#6fb5ff 0%,#8fc8ff 100%);
            transition:width .3s cubic-bezier(.4,0,.2,1); border-radius:100px; box-shadow:0 0 12px rgba(111,181,255,.6);
        }
        .progress-text { margin-top:16px; color:#d4e7ff; font-size:1em; font-weight:400; letter-spacing:.25px;}
        footer { text-align:center; padding:24px; color:#7a8fa5; font-size:.9em; margin-top:48px; letter-spacing:.25px;}
        #current-path { color:#aec5dc; font-weight:400;}
        #current-path.connected { color:#8fc8ff;}
    </style>
</head>
<body>
    <script>
        for (let i=0;i<25;i++){
          const snowflake=document.createElement('div');
          snowflake.className='snowflake';
          snowflake.textContent='‚ùÑ';
          snowflake.style.left=Math.random()*100+'%';
          snowflake.style.animationDuration=(Math.random()*5+5)+'s';
          snowflake.style.animationDelay=Math.random()*5+'s';
          snowflake.style.fontSize=(Math.random()*1+0.5)+'em';
          document.body.appendChild(snowflake);
        }
    </script>
    <div class="container">
        <header>
            <h1>ASSTRALLITY LOADER</h1>
            <p class="subtitle">–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –º–æ–¥–æ–≤ –¥–ª—è World of Tanks Blitz</p>
        </header>
        <div class="tabs">
            <div class="tab active" onclick="switchTab('mods',event)">–ú–æ–¥—ã</div>
            <div class="tab" onclick="switchTab('settings',event)">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            <div class="tab" onclick="switchTab('info',event)">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
        </div>
        <div id="mods" class="tab-content active">
            <div class="section">
                <h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥—ã</h2>
                <div id="mods-list" class="mods-grid">
                    <p style="color: #aec5dc;">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –º–æ–¥–æ–≤...</p>
                </div>
            </div>
        </div>
        <div id="settings" class="tab-content">
            <div class="section">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏</h2>
                <div class="setting-row">
                    <div class="setting-label">–ú–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–¥–æ–≤:</div>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="method-sdls" name="install-method" value="sdls" checked onchange="updateInstallMethod()">
                            <label for="method-sdls">sDLS (Documents/packs)</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="method-data" name="install-method" value="data" onchange="updateInstallMethod()">
                            <label for="method-data">Data (—Ä—è–¥–æ–º —Å tanksblitz.exe)</label>
                        </div>
                    </div>
                </div>
                <div class="setting-row">
                    <div class="setting-label">–ü—É—Ç—å –∫ –∏–≥—Ä–µ:</div>
                    <button class="btn" onclick="browseGamePath()">–í—ã–±—Ä–∞—Ç—å –ø–∞–ø–∫—É</button>
                </div>
                <div class="setting-row">
                    <div class="setting-label" id="current-path">–ù–µ –≤—ã–±—Ä–∞–Ω</div>
                </div>
            </div>
        </div>
        <div id="info" class="tab-content">
            <div class="section">
                <h2>–û –ø—Ä–æ–≥—Ä–∞–º–º–µ</h2>
                <p style="color: #aec5dc; line-height: 1.7; font-size: 1em; letter-spacing: 0.25px;">
                    <strong style="color: #d4e7ff;">ASSTRALLITY LOADER</strong> ‚Äî —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –º–æ–¥–æ–≤ –¥–ª—è World of Tanks Blitz 
                    —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –±—ç–∫–∞–ø–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∏–≥—Ä—ã.
                </p>
                <p style="color: #aec5dc; line-height: 1.7; font-size: 1em; margin-top: 16px; letter-spacing: 0.25px;">
                    –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –º–µ—Ç–æ–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏: <strong style="color: #d4e7ff;">sDLS</strong> (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Documents/packs) 
                    –∏ <strong style="color: #d4e7ff;">Data</strong> (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –ø–∞–ø–∫—É Data —Ä—è–¥–æ–º —Å tanksblitz.exe).
                </p>
            </div>
            <div class="section">
                <h2>–¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∞—É–Ω—á–µ—Ä–∞</h2>
                <p style="color: #aec5dc; margin-bottom: 24px; letter-spacing: 0.25px;">
                    –≠—Ç–∞ –∫–Ω–æ–ø–∫–∞ –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –ª–∞—É–Ω—á–µ—Ä–∞ –∏ –µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫.
                </p>
                <button class="btn" onclick="testUpdate()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</button>
            </div>
        </div>
    </div>
    <footer>
        ¬© ASSTRALLITY 2025
    </footer>
    <div id="progress-modal" class="modal">
        <div class="modal-content">
            <h2 id="progress-title" style="font-size: 1.5em; font-weight: 500; color: #d4e7ff; margin-bottom: 24px; letter-spacing: 0px;">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–∞...</h2>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill" style="width: 0%;"></div>
            </div>
            <p id="progress-text" class="progress-text">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...</p>
            <p id="speed-text" class="progress-text" style="font-size: 0.9em; color: #7a8fa5;"></p>
        </div>
    </div>
    <script>
        let modsData = [];
        async function loadMods() {
            try {
                const response = await fetch('https://raw.githubusercontent.com/asstrallity-ui/Tanks_Blitz_Mods_Files/main/mods.json');
                modsData = await response.json();
                renderMods();
            } catch (error) {
                document.getElementById('mods-list').innerHTML = '<p style="color: #ff8a80;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–æ–≤. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.</p>';
            }
        }
        function renderMods() {
            const container = document.getElementById('mods-list');
            if (!modsData || modsData.length === 0) {
                container.innerHTML = '<p style="color: #aec5dc;">–ú–æ–¥—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>';
                return;
            }
            container.innerHTML = modsData.map((mod, index) => `
                <div class="mod-card">
                    ${mod.image ?
                        `<img src="${mod.image}" alt="${mod.name || '–ú–æ–¥'}" class="mod-image" onerror="this.outerHTML='<div class=\\'mod-image-placeholder\\'>üì¶</div>'">`
                        : '<div class="mod-image-placeholder">üì¶</div>'
                    }
                    <div class="mod-content">
                        <h3>${mod.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</h3>
                        <p>${mod.description || '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}</p>
                        <button class="install-btn" data-mod-index="${index}">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                </div>
            `).join('');
            document.querySelectorAll('.install-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const modIndex = parseInt(this.getAttribute('data-mod-index'));
                    const mod = modsData[modIndex];
                    if (!mod || !mod.file || !mod.file.trim()) {
                        console.error('Mod file is missing or invalid:', JSON.stringify(mod, null, 2));
                        return;
                    }
                    let url = mod.file;
                    if (!/^https?:\/\//.test(url)) {
                        url = `https://raw.githubusercontent.com/asstrallity-ui/Tanks_Blitz_Mods_Files/main/${url}`;
                    }
                    install(url, mod.name || '–ú–æ–¥ –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è');
                });
            });
        }
        function switchTab(tabName, event) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        function install(url, name) {
            console.log('INSTALL_MOD:' + url);
        }
        function updateInstallMethod() {
            const method = document.querySelector('input[name="install-method"]:checked').value;
            console.log('INSTALL_METHOD:' + method);
        }
        function browseGamePath() {
            console.log('BROWSE_PATH');
        }
        function testUpdate() {
            console.log('SELF_UPDATE_TEST');
        }
        function showModal() {
            document.getElementById('progress-modal').style.display = 'flex';
            document.getElementById('progress-title').textContent = '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–∞...';
            updateProgress(0, '–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...');
        }
        function updateProgress(percent, message) {
            document.getElementById('progress-fill').style.width = percent + '%';
            document.getElementById('progress-text').textContent = message;
        }
        function updateUpdateProgress(percent, message, speed) {
            showModal();
            document.getElementById('progress-title').textContent = '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∞—É–Ω—á–µ—Ä–∞...';
            updateProgress(percent, message);
            document.getElementById('speed-text').textContent = speed;
        }
        function showSuccess(message) {
            document.getElementById('progress-title').textContent = '‚úÖ –£—Å–ø–µ—à–Ω–æ!';
            document.getElementById('progress-text').textContent = message;
            document.getElementById('speed-text').textContent = '';
            setTimeout(() => {
                document.getElementById('progress-modal').style.display = 'none';
            }, 3000);
        }
        function showError(message) {
            document.getElementById('progress-title').textContent = '‚ùå –û—à–∏–±–∫–∞';
            document.getElementById('progress-text').textContent = message;
            document.getElementById('speed-text').textContent = '';
            setTimeout(() => {
                document.getElementById('progress-modal').style.display = 'none';
            }, 4000);
        }
        function showUpdateSuccess(message) { showSuccess(message); }
        function showUpdateError(message) { showError(message); }
        function updateGameStatus(connected, path) {
            const currentPath = document.getElementById('current-path');
            if (connected && path) { currentPath.textContent = `–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${path}`; currentPath.classList.add('connected');
            } else { currentPath.textContent = '–ù–µ –≤—ã–±—Ä–∞–Ω'; currentPath.classList.remove('connected'); }
        }
        function updateConnectionStatus(connected, path) { updateGameStatus(connected, path);}
        loadMods();
    </script>
</body>
</html>
